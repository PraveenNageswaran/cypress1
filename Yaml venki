def csvContent = ""

// Generate CSV headers
def headers = yamlObject.collect { key, value ->
    if (value instanceof Map) {
        value.keySet()
    } else {
        []
    }
}.flatten().unique().join(",")

csvContent += headers + "\n"

// Generate CSV rows
yamlObject.paths.each { path, methods ->
    methods.each { method, details ->
        def rowValues = headers.split(",").collect { details[it] ?: "" }
        csvContent += rowValues.join(",") + "\n"
    }
}

// Write CSV content to file
def csvFile = new File("path/to/your/output.csv")
FileUtils.writeStringToFile(csvFile, csvContent, "UTF-8")

// Log success message
log.info("CSV file saved at: " + csvFile.absolutePath)
